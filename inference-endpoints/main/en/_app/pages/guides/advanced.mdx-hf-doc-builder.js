import{S as _o,i as Eo,s as wo,e as a,k as f,w as go,t as i,M as Po,c as r,d as t,m as c,a as n,x as To,h as u,b as p,N as bo,G as o,g as l,y as Ao,L as Co,q as So,o as Ro,B as ko,v as Mo}from"../../chunks/vendor-hf-doc-builder.js";import{I as Go}from"../../chunks/IconCopyLink-hf-doc-builder.js";function Io(St){let y,ce,_,E,K,P,qe,Q,ze,pe,w,Fe,R,$e,Oe,me,k,X,He,de,M,Le,he,G,Z,We,ve,I,ee,Ve,ye,T,Rt,_e,D,te,Ye,Ee,U,Be,we,N,oe,Je,ge,x,ae,je,Pe,d,Ke,q,Qe,Xe,z,Ze,et,F,tt,ot,$,at,rt,Te,O,re,st,be,H,se,nt,Ae,L,lt,Ce,W,ne,it,Se,V,le,ut,Re,Y,ft,ke,B,ie,ct,Me,J,ue,pt,Ge,m,mt,fe,dt,ht,b,vt,yt,A,_t,Et,C,wt,gt,S,Pt,Tt,Ie,g,bt,j,At,Ct,De;return P=new Go({}),{c(){y=a("meta"),ce=f(),_=a("h1"),E=a("a"),K=a("span"),go(P.$$.fragment),qe=f(),Q=a("span"),ze=i("Advanced Setup (Instance Types, Auto Scaling, Versioning)"),pe=f(),w=a("p"),Fe=i("We have seen how fast and easy it is to deploy an Endpoint in "),R=a("a"),$e=i("Create your first Endpoint"),Oe=i(", but that\u2019s not all you can manage. During the creation process and after selecting your Cloud Provider and Region, click on the [Advanced configuration] button to reveal further configuration options for your Endpoint."),me=f(),k=a("p"),X=a("strong"),He=i("Instance type"),de=f(),M=a("p"),Le=i("\u{1F917} Inference Endpoints offers a selection of curated CPU and GPU instances."),he=f(),G=a("p"),Z=a("em"),We=i("Note: Your Hugging Face account comes with a capacity quota for CPU and GPU instances. To increase your quota or request new instance types, please check with us."),ve=f(),I=a("p"),ee=a("em"),Ve=i("Default: CPU-medium"),ye=f(),T=a("img"),_e=f(),D=a("p"),te=a("strong"),Ye=i("Replica autoscaling"),Ee=f(),U=a("p"),Be=i("Set the range (minimum (>=1) and maximum ) of replicas you want your Endpoint to automatically scale within based on utilization."),we=f(),N=a("p"),oe=a("em"),Je=i("Default: min 1; max 2"),ge=f(),x=a("p"),ae=a("strong"),je=i("Task"),Pe=f(),d=a("p"),Ke=i("Select a "),q=a("a"),Qe=i("supported Machine Learning Task"),Xe=i(", or set to "),z=a("a"),Ze=i("Custom"),et=i(". "),F=a("a"),tt=i("Custom"),ot=i(" can/should be used when you are not using a Transformers-based model or when you want to customize the inference pipeline, see "),$=a("a"),at=i("Create your own Inference handler"),rt=i("."),Te=f(),O=a("p"),re=a("em"),st=i("Default: derived from the model repository."),be=f(),H=a("p"),se=a("strong"),nt=i("Framework"),Ae=f(),L=a("p"),lt=i("For Transformers models, if both PyTorch and TensorFlow weights are both available, you can select which model weights to use. This will help reduce the image artifact size and accelerate startups/scaling of your endpoints."),Ce=f(),W=a("p"),ne=a("em"),it=i("Default: PyTorch if available."),Se=f(),V=a("p"),le=a("strong"),ut=i("Revision"),Re=f(),Y=a("p"),ft=i("Create your Endpoint targeting a specific revision commit for its source Hugging Face Model Repository. This allows you to version your endpoint and make sure you are always using the same weights even if you are updating the Model Repository."),ke=f(),B=a("p"),ie=a("em"),ct=i("Default: The most recent commit."),Me=f(),J=a("p"),ue=a("strong"),pt=i("Image"),Ge=f(),m=a("p"),mt=i("Allows you to provide a custom container image you want to deploy into an Endpoint. Those can be public images, e.g "),fe=a("em"),dt=i("tensorflow/serving:2.7.3,"),ht=i(" or private Images hosted on "),b=a("a"),vt=i("Docker hub"),yt=i(", "),A=a("a"),_t=i("AWS ECR"),Et=i(", "),C=a("a"),wt=i("Azure ACR"),gt=i(", or "),S=a("a"),Pt=i("Google GCR"),Tt=i("."),Ie=f(),g=a("p"),bt=i("More on how to "),j=a("a"),At=i("\u201CUse your own custom container\u201D"),Ct=i(" below."),this.h()},l(e){const s=Po('[data-svelte="svelte-1phssyn"]',document.head);y=r(s,"META",{name:!0,content:!0}),s.forEach(t),ce=c(e),_=r(e,"H1",{class:!0});var Ue=n(_);E=r(Ue,"A",{id:!0,class:!0,href:!0});var kt=n(E);K=r(kt,"SPAN",{});var Mt=n(K);To(P.$$.fragment,Mt),Mt.forEach(t),kt.forEach(t),qe=c(Ue),Q=r(Ue,"SPAN",{});var Gt=n(Q);ze=u(Gt,"Advanced Setup (Instance Types, Auto Scaling, Versioning)"),Gt.forEach(t),Ue.forEach(t),pe=c(e),w=r(e,"P",{});var Ne=n(w);Fe=u(Ne,"We have seen how fast and easy it is to deploy an Endpoint in "),R=r(Ne,"A",{href:!0});var It=n(R);$e=u(It,"Create your first Endpoint"),It.forEach(t),Oe=u(Ne,", but that\u2019s not all you can manage. During the creation process and after selecting your Cloud Provider and Region, click on the [Advanced configuration] button to reveal further configuration options for your Endpoint."),Ne.forEach(t),me=c(e),k=r(e,"P",{});var Dt=n(k);X=r(Dt,"STRONG",{});var Ut=n(X);He=u(Ut,"Instance type"),Ut.forEach(t),Dt.forEach(t),de=c(e),M=r(e,"P",{});var Nt=n(M);Le=u(Nt,"\u{1F917} Inference Endpoints offers a selection of curated CPU and GPU instances."),Nt.forEach(t),he=c(e),G=r(e,"P",{});var xt=n(G);Z=r(xt,"EM",{});var qt=n(Z);We=u(qt,"Note: Your Hugging Face account comes with a capacity quota for CPU and GPU instances. To increase your quota or request new instance types, please check with us."),qt.forEach(t),xt.forEach(t),ve=c(e),I=r(e,"P",{});var zt=n(I);ee=r(zt,"EM",{});var Ft=n(ee);Ve=u(Ft,"Default: CPU-medium"),Ft.forEach(t),zt.forEach(t),ye=c(e),T=r(e,"IMG",{src:!0,alt:!0}),_e=c(e),D=r(e,"P",{});var $t=n(D);te=r($t,"STRONG",{});var Ot=n(te);Ye=u(Ot,"Replica autoscaling"),Ot.forEach(t),$t.forEach(t),Ee=c(e),U=r(e,"P",{});var Ht=n(U);Be=u(Ht,"Set the range (minimum (>=1) and maximum ) of replicas you want your Endpoint to automatically scale within based on utilization."),Ht.forEach(t),we=c(e),N=r(e,"P",{});var Lt=n(N);oe=r(Lt,"EM",{});var Wt=n(oe);Je=u(Wt,"Default: min 1; max 2"),Wt.forEach(t),Lt.forEach(t),ge=c(e),x=r(e,"P",{});var Vt=n(x);ae=r(Vt,"STRONG",{});var Yt=n(ae);je=u(Yt,"Task"),Yt.forEach(t),Vt.forEach(t),Pe=c(e),d=r(e,"P",{});var v=n(d);Ke=u(v,"Select a "),q=r(v,"A",{href:!0});var Bt=n(q);Qe=u(Bt,"supported Machine Learning Task"),Bt.forEach(t),Xe=u(v,", or set to "),z=r(v,"A",{href:!0});var Jt=n(z);Ze=u(Jt,"Custom"),Jt.forEach(t),et=u(v,". "),F=r(v,"A",{href:!0});var jt=n(F);tt=u(jt,"Custom"),jt.forEach(t),ot=u(v," can/should be used when you are not using a Transformers-based model or when you want to customize the inference pipeline, see "),$=r(v,"A",{href:!0});var Kt=n($);at=u(Kt,"Create your own Inference handler"),Kt.forEach(t),rt=u(v,"."),v.forEach(t),Te=c(e),O=r(e,"P",{});var Qt=n(O);re=r(Qt,"EM",{});var Xt=n(re);st=u(Xt,"Default: derived from the model repository."),Xt.forEach(t),Qt.forEach(t),be=c(e),H=r(e,"P",{});var Zt=n(H);se=r(Zt,"STRONG",{});var eo=n(se);nt=u(eo,"Framework"),eo.forEach(t),Zt.forEach(t),Ae=c(e),L=r(e,"P",{});var to=n(L);lt=u(to,"For Transformers models, if both PyTorch and TensorFlow weights are both available, you can select which model weights to use. This will help reduce the image artifact size and accelerate startups/scaling of your endpoints."),to.forEach(t),Ce=c(e),W=r(e,"P",{});var oo=n(W);ne=r(oo,"EM",{});var ao=n(ne);it=u(ao,"Default: PyTorch if available."),ao.forEach(t),oo.forEach(t),Se=c(e),V=r(e,"P",{});var ro=n(V);le=r(ro,"STRONG",{});var so=n(le);ut=u(so,"Revision"),so.forEach(t),ro.forEach(t),Re=c(e),Y=r(e,"P",{});var no=n(Y);ft=u(no,"Create your Endpoint targeting a specific revision commit for its source Hugging Face Model Repository. This allows you to version your endpoint and make sure you are always using the same weights even if you are updating the Model Repository."),no.forEach(t),ke=c(e),B=r(e,"P",{});var lo=n(B);ie=r(lo,"EM",{});var io=n(ie);ct=u(io,"Default: The most recent commit."),io.forEach(t),lo.forEach(t),Me=c(e),J=r(e,"P",{});var uo=n(J);ue=r(uo,"STRONG",{});var fo=n(ue);pt=u(fo,"Image"),fo.forEach(t),uo.forEach(t),Ge=c(e),m=r(e,"P",{});var h=n(m);mt=u(h,"Allows you to provide a custom container image you want to deploy into an Endpoint. Those can be public images, e.g "),fe=r(h,"EM",{});var co=n(fe);dt=u(co,"tensorflow/serving:2.7.3,"),co.forEach(t),ht=u(h," or private Images hosted on "),b=r(h,"A",{href:!0,rel:!0});var po=n(b);vt=u(po,"Docker hub"),po.forEach(t),yt=u(h,", "),A=r(h,"A",{href:!0,rel:!0});var mo=n(A);_t=u(mo,"AWS ECR"),mo.forEach(t),Et=u(h,", "),C=r(h,"A",{href:!0,rel:!0});var ho=n(C);wt=u(ho,"Azure ACR"),ho.forEach(t),gt=u(h,", or "),S=r(h,"A",{href:!0,rel:!0});var vo=n(S);Pt=u(vo,"Google GCR"),vo.forEach(t),Tt=u(h,"."),h.forEach(t),Ie=c(e),g=r(e,"P",{});var xe=n(g);bt=u(xe,"More on how to "),j=r(xe,"A",{href:!0});var yo=n(j);At=u(yo,"\u201CUse your own custom container\u201D"),yo.forEach(t),Ct=u(xe," below."),xe.forEach(t),this.h()},h(){p(y,"name","hf:doc:metadata"),p(y,"content",JSON.stringify(Do)),p(E,"id","advanced-setup-instance-types-auto-scaling-versioning"),p(E,"class","header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full"),p(E,"href","#advanced-setup-instance-types-auto-scaling-versioning"),p(_,"class","relative group"),p(R,"href","/docs/guides/guides/create_endpoint"),bo(T.src,Rt="https://raw.githubusercontent.com/huggingface/hf-endpoints-documentation/main/assets/instance_types.png")||p(T,"src",Rt),p(T,"alt","copy curl"),p(q,"href","/docs/guides/supported_tasks"),p(z,"href","/docs/guides/guides/custom_handler"),p(F,"href","/docs/guides/guides/custom_handler"),p($,"href","/docs/guides/guides/custom_handler"),p(b,"href","https://hub.docker.com/"),p(b,"rel","nofollow"),p(A,"href","https://aws.amazon.com/ecr/?nc1=h_ls"),p(A,"rel","nofollow"),p(C,"href","https://azure.microsoft.com/de-de/services/container-registry/"),p(C,"rel","nofollow"),p(S,"href","https://cloud.google.com/container-registry?hl=de"),p(S,"rel","nofollow"),p(j,"href","/docs/guides/guides/custom_handler")},m(e,s){o(document.head,y),l(e,ce,s),l(e,_,s),o(_,E),o(E,K),Ao(P,K,null),o(_,qe),o(_,Q),o(Q,ze),l(e,pe,s),l(e,w,s),o(w,Fe),o(w,R),o(R,$e),o(w,Oe),l(e,me,s),l(e,k,s),o(k,X),o(X,He),l(e,de,s),l(e,M,s),o(M,Le),l(e,he,s),l(e,G,s),o(G,Z),o(Z,We),l(e,ve,s),l(e,I,s),o(I,ee),o(ee,Ve),l(e,ye,s),l(e,T,s),l(e,_e,s),l(e,D,s),o(D,te),o(te,Ye),l(e,Ee,s),l(e,U,s),o(U,Be),l(e,we,s),l(e,N,s),o(N,oe),o(oe,Je),l(e,ge,s),l(e,x,s),o(x,ae),o(ae,je),l(e,Pe,s),l(e,d,s),o(d,Ke),o(d,q),o(q,Qe),o(d,Xe),o(d,z),o(z,Ze),o(d,et),o(d,F),o(F,tt),o(d,ot),o(d,$),o($,at),o(d,rt),l(e,Te,s),l(e,O,s),o(O,re),o(re,st),l(e,be,s),l(e,H,s),o(H,se),o(se,nt),l(e,Ae,s),l(e,L,s),o(L,lt),l(e,Ce,s),l(e,W,s),o(W,ne),o(ne,it),l(e,Se,s),l(e,V,s),o(V,le),o(le,ut),l(e,Re,s),l(e,Y,s),o(Y,ft),l(e,ke,s),l(e,B,s),o(B,ie),o(ie,ct),l(e,Me,s),l(e,J,s),o(J,ue),o(ue,pt),l(e,Ge,s),l(e,m,s),o(m,mt),o(m,fe),o(fe,dt),o(m,ht),o(m,b),o(b,vt),o(m,yt),o(m,A),o(A,_t),o(m,Et),o(m,C),o(C,wt),o(m,gt),o(m,S),o(S,Pt),o(m,Tt),l(e,Ie,s),l(e,g,s),o(g,bt),o(g,j),o(j,At),o(g,Ct),De=!0},p:Co,i(e){De||(So(P.$$.fragment,e),De=!0)},o(e){Ro(P.$$.fragment,e),De=!1},d(e){t(y),e&&t(ce),e&&t(_),ko(P),e&&t(pe),e&&t(w),e&&t(me),e&&t(k),e&&t(de),e&&t(M),e&&t(he),e&&t(G),e&&t(ve),e&&t(I),e&&t(ye),e&&t(T),e&&t(_e),e&&t(D),e&&t(Ee),e&&t(U),e&&t(we),e&&t(N),e&&t(ge),e&&t(x),e&&t(Pe),e&&t(d),e&&t(Te),e&&t(O),e&&t(be),e&&t(H),e&&t(Ae),e&&t(L),e&&t(Ce),e&&t(W),e&&t(Se),e&&t(V),e&&t(Re),e&&t(Y),e&&t(ke),e&&t(B),e&&t(Me),e&&t(J),e&&t(Ge),e&&t(m),e&&t(Ie),e&&t(g)}}}const Do={local:"advanced-setup-instance-types-auto-scaling-versioning",title:"Advanced Setup (Instance Types, Auto Scaling, Versioning)"};function Uo(St){return Mo(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class qo extends _o{constructor(y){super();Eo(this,y,Uo,Io,wo,{})}}export{qo as default,Do as metadata};
